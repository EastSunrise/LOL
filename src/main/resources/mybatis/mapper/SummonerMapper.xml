<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="wsg.lol.dao.mybatis.mapper.SummonerMapper">
    <insert id="insertSummoner" parameterType="wsg.lol.common.pojo.dto.summoner.SummonerDto">
        INSERT INTO s_summoner
        (ID, ACCOUNT_ID, PUUID, NAME, PROFILE_ICON_ID, REVISION_DATE, SUMMONER_LEVEL)
        VALUES (#{id}, #{accountId}, #{puuid}, #{name}, #{profileIconId}, #{revisionDate}, #{summonerLevel})
    </insert>

    <select id="removeSummonersExist" resultType="java.lang.String">
        SELECT TEMP.ID1 FROM
        <foreach collection="list" item="item" separator="union" open="(" close=")">
            SELECT #{item} AS ID1
        </foreach>
        TEMP
        LEFT JOIN (SELECT ID AS ID0 FROM s_summoner) T ON TEMP.ID1 = T.ID0
        WHERE T.ID0 IS NULL
    </select>
</mapper>