<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="wsg.lol.dao.mybatis.mapper.PositionMapper">
    <sql id="Base_Column_List">

    </sql>
    <select id="selectByPrimaryKey" resultType="wsg.lol.pojo.dmo.league.PositionDmo">
        select ID,
               SUMMONER_ID,
               QUEUE_TYPE,
               POSITION,
               SUMMONER_NAME,
               LEAGUE_ID,
               LEAGUE_NAME,
               TIER,
               'RANK',
               LEAGUE_POINTS,
               WINS,
               LOSSES,
               VETERAN,
               INACTIVE,
               FRESH_BLOOD,
               HOT_STREAK,
               SERIES_TARGET,
               SERIES_WINS,
               SERIES_LOSSES
        from l_position
        where ID = #{id,jdbcType=INTEGER}
    </select>
    <select id="selectBySummonerId" resultType="wsg.lol.pojo.dmo.league.PositionDmo" parameterType="java.lang.String">
        SELECT ID,
               SUMMONER_ID,
               QUEUE_TYPE,
               POSITION,
               SUMMONER_NAME,
               LEAGUE_ID,
               LEAGUE_NAME,
               TIER,
               'RANK',
               LEAGUE_POINTS,
               WINS,
               LOSSES,
               VETERAN,
               INACTIVE,
               FRESH_BLOOD,
               HOT_STREAK,
               SERIES_TARGET,
               SERIES_WINS,
               SERIES_LOSSES
        FROM l_position T
        WHERE T.SUMMONER_ID = #{summonerId}
    </select>
    <select id="selectByUnionKey" resultType="wsg.lol.pojo.dmo.league.PositionDmo">
        SELECT ID,
               SUMMONER_ID,
               QUEUE_TYPE,
               POSITION,
               SUMMONER_NAME,
               LEAGUE_ID,
               LEAGUE_NAME,
               TIER,
               DIVISION AS "rank",
               LEAGUE_POINTS,
               WINS,
               LOSSES,
               VETERAN,
               INACTIVE,
               FRESH_BLOOD,
               HOT_STREAK,
               SERIES_TARGET,
               SERIES_WINS,
               SERIES_LOSSES
        FROM l_position T
        WHERE T.SUMMONER_ID = #{param1}
          AND T.QUEUE_TYPE = #{param2}
          AND T.POSITION = #{param3}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
        delete
        from l_position
        where ID = #{id,jdbcType=INTEGER}
    </delete>
    <insert id="insert" parameterType="wsg.lol.pojo.dto.api.league.LeaguePositionDto" useGeneratedKeys="true">
        insert into l_position
        (SUMMONER_ID, QUEUE_TYPE, POSITION, SUMMONER_NAME, LEAGUE_ID, LEAGUE_NAME, TIER, DIVISION, LEAGUE_POINTS,
         WINS, LOSSES, VETERAN, INACTIVE, FRESH_BLOOD, HOT_STREAK, SERIES_TARGET, SERIES_WINS, SERIES_LOSSES)
        values (#{summonerId}, #{queueType}, #{position}, #{summonerName}, #{leagueId}, #{leagueName}, #{tier},
                #{rank}, #{leaguePoints}, #{wins}, #{losses}, #{veteran}, #{inactive}, #{freshBlood}, #{hotStreak},
                #{miniSeries.target}, #{miniSeries.wins}, #{miniSeries.losses})
    </insert>
    <insert id="insertSelective" parameterType="wsg.lol.pojo.dmo.league.PositionDmo">
        insert into l_position
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                ID,
            </if>
            <if test="summonerId != null">
                SUMMONER_ID,
            </if>
            <if test="queue != null">
                QUEUE,
            </if>
            <if test="position != null">
                POSITION,
            </if>
            <if test="summonerName != null">
                SUMMONER_NAME,
            </if>
            <if test="leagueId != null">
                LEAGUE_ID,
            </if>
            <if test="leagueName != null">
                LEAGUE_NAME,
            </if>
            <if test="tier != null">
                TIER,
            </if>
            <if test="rank != null">
                RANK,
            </if>
            <if test="leaguePoints != null">
                LEAGUE_POINTS,
            </if>
            <if test="wins != null">
                WINS,
            </if>
            <if test="losses != null">
                LOSSES,
            </if>
            <if test="veteran != null">
                VETERAN,
            </if>
            <if test="inactive != null">
                INACTIVE,
            </if>
            <if test="freshBlood != null">
                FRESH_BLOOD,
            </if>
            <if test="hotStreak != null">
                HOT_STREAK,
            </if>
            <if test="seriesTarget != null">
                SERIES_TARGET,
            </if>
            <if test="seriesWins != null">
                SERIES_WINS,
            </if>
            <if test="seriesLosses != null">
                SERIES_LOSSES,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="id != null">
                #{id,jdbcType=INTEGER},
            </if>
            <if test="summonerId != null">
                #{summonerId,jdbcType=VARCHAR},
            </if>
            <if test="queue != null">
                #{queue,jdbcType=TINYINT},
            </if>
            <if test="position != null">
                #{position,jdbcType=TINYINT},
            </if>
            <if test="summonerName != null">
                #{summonerName,jdbcType=VARCHAR},
            </if>
            <if test="leagueId != null">
                #{leagueId,jdbcType=VARCHAR},
            </if>
            <if test="leagueName != null">
                #{leagueName,jdbcType=VARCHAR},
            </if>
            <if test="tier != null">
                #{tier,jdbcType=TINYINT},
            </if>
            <if test="rank != null">
                #{rank,jdbcType=TINYINT},
            </if>
            <if test="leaguePoints != null">
                #{leaguePoints,jdbcType=INTEGER},
            </if>
            <if test="wins != null">
                #{wins,jdbcType=INTEGER},
            </if>
            <if test="losses != null">
                #{losses,jdbcType=INTEGER},
            </if>
            <if test="veteran != null">
                #{veteran,jdbcType=BIT},
            </if>
            <if test="inactive != null">
                #{inactive,jdbcType=BIT},
            </if>
            <if test="freshBlood != null">
                #{freshBlood,jdbcType=BIT},
            </if>
            <if test="hotStreak != null">
                #{hotStreak,jdbcType=BIT},
            </if>
            <if test="seriesTarget != null">
                #{seriesTarget,jdbcType=INTEGER},
            </if>
            <if test="seriesWins != null">
                #{seriesWins,jdbcType=INTEGER},
            </if>
            <if test="seriesLosses != null">
                #{seriesLosses,jdbcType=INTEGER},
            </if>
        </trim>
    </insert>
    <update id="updateByPrimaryKeySelective" parameterType="wsg.lol.pojo.dmo.league.PositionDmo">
        update l_position
        <set>
            <if test="summonerId != null">
                SUMMONER_ID = #{summonerId,jdbcType=VARCHAR},
            </if>
            <if test="queue != null">
                QUEUE = #{queue},
            </if>
            <if test="position != null">
                POSITION = #{position},
            </if>
            <if test="summonerName != null">
                SUMMONER_NAME = #{summonerName,jdbcType=VARCHAR},
            </if>
            <if test="leagueId != null">
                LEAGUE_ID = #{leagueId,jdbcType=VARCHAR},
            </if>
            <if test="leagueName != null">
                LEAGUE_NAME = #{leagueName,jdbcType=VARCHAR},
            </if>
            <if test="tier != null">
                TIER = #{tier},
            </if>
            <if test="rank != null">
                RANK = #{rank},
            </if>
            <if test="leaguePoints != null">
                LEAGUE_POINTS = #{leaguePoints},
            </if>
            <if test="wins != null">
                WINS = #{wins},
            </if>
            <if test="losses != null">
                LOSSES = #{losses},
            </if>
            <if test="veteran != null">
                VETERAN = #{veteran},
            </if>
            <if test="inactive != null">
                INACTIVE = #{inactive},
            </if>
            <if test="freshBlood != null">
                FRESH_BLOOD = #{freshBlood},
            </if>
            <if test="hotStreak != null">
                HOT_STREAK = #{hotStreak},
            </if>
            <if test="seriesTarget != null">
                SERIES_TARGET = #{seriesTarget},
            </if>
            <if test="seriesWins != null">
                SERIES_WINS = #{seriesWins},
            </if>
            <if test="seriesLosses != null">
                SERIES_LOSSES = #{seriesLosses},
            </if>
        </set>
        where ID = #{id}
    </update>
    <update id="updateByUnionKey" parameterType="wsg.lol.pojo.dto.api.league.LeaguePositionDto">
        update l_position
        set SUMMONER_NAME = #{summonerName},
            LEAGUE_ID     = #{leagueId},
            LEAGUE_NAME   = #{leagueName},
            TIER          = #{tier},
            DIVISION      = #{rank},
            LEAGUE_POINTS = #{leaguePoints},
            WINS          = #{wins},
            LOSSES        = #{losses},
            VETERAN       = #{veteran},
            INACTIVE      = #{inactive},
            FRESH_BLOOD   = #{freshBlood},
            HOT_STREAK    = #{hotStreak},
            SERIES_TARGET = #{seriesTarget},
            SERIES_WINS   = #{seriesWins},
            SERIES_LOSSES = #{seriesLosses}
        WHERE SUMMONER_ID = #{summonerId}
          AND QUEUE_TYPE = #{queueType}
          AND POSITION = #{position}
    </update>
</mapper>